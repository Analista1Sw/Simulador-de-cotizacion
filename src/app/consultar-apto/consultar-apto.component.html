<form
  [formGroup]="form"
  (ngSubmit)="consultarApartamentos()"
  class="form-container"
>
  <div class="p-fluid p-formgrid p-grid">
    <div class="p-field p-col">
      <label for="proyecto"
        >Seleccione un Proyecto para Consultar Apartamentos</label
      >
      <p-dropdown
        id="proyecto"
        formControlName="proyecto"
        [options]="proyectos"
        optionLabel="nombre"
        placeholder="Seleccione un proyecto"
        appendTo="body"
      >
      </p-dropdown>
    </div>

    <div class="p-field p-col">
      <button
        pButton
        type="submit"
        label="Consultar"
        [disabled]="form.invalid"
        class="p-button-success"
      ></button>
    </div>
  </div>
</form>

<div
  *ngIf="apartamentos.length > 0; else noApartamentos"
  class="table-container"
>
  <p-table [value]="apartamentos">
    <ng-template pTemplate="header">
      <tr>
        <th>ID</th>
        <th>Nombre</th>
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-apartamento>
      <tr>
        <td>{{ apartamento.id }}</td>
        <td>{{ apartamento.nombre }}</td>
      </tr>
    </ng-template>
  </p-table>
</div>

<ng-template #noApartamentos>
  <p class="no-results-message">
    No se encontraron apartamentos para el proyecto seleccionado.
  </p>
</ng-template>
